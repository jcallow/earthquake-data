{"version":3,"sources":["service/EarthQuakeDataService.ts","components/EarthViewBox/EarthViewBox.tsx","App.tsx","index.tsx"],"names":["EarthQuakeDataService","fetch","then","res","json","data","console","log","features","options","ambientLightColor","cameraRotateSpeed","focusAnimationDuration","focusEasingFunction","pointLightColor","pointLightIntensity","markerRadiusScaleRange","globeGlowColor","markerTooltipRenderer","marker","properties","title","markerType","EarthViewBox","props","state","loaded","setInterval","dataService","fetchQuakeData","setState","this","markers","Array","i","length","earthData","id","coordinates","geometry","value","mag","push","height","width","React","Component","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yOAEaA,EAAb,8FAEI,WACI,OAAOC,MAAM,6EAA6EC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UACrGF,MAAK,SAACG,GAEH,OADAC,QAAQC,IAAIF,GACLA,EAAKG,gBAN5B,K,6BCKMC,EAAU,CACZC,kBAAmB,MACnBC,kBAAmB,GACnBC,uBAAwB,IACxBC,oBAAqB,CAAC,SAAU,QAChCC,gBAAiB,OACjBC,oBAAqB,IACrBC,uBAAwB,CAAC,GAAK,GAC9BC,eAAgB,OAChBC,sBAAwB,SAACC,GAAD,gBAAiCA,EAAOd,KAAKe,WAAWC,QAChFC,WAAY,OAgBHC,EAAb,kDAEI,WAAYC,GAA2B,IAAD,8BAClC,cAAMA,IACDC,MAAQ,CACTC,QAAQ,EACRrB,KAAM,IAJwB,EAF1C,qDAUI,WAAqB,IAAD,OAChBsB,aAAY,WACR,EAAKH,MAAMI,YAAYC,iBAAiB3B,MAAK,SAACG,GAC1CC,QAAQC,IAAI,WACZ,EAAKuB,SACD,CACIJ,QAAQ,EACRrB,KAAMA,SAInB,OArBX,oBAwBI,WAAU,IAAD,OACL,IAAK0B,KAAKN,MAAMC,OASZ,OARAK,KAAKP,MAAMI,YAAYC,iBAAiB3B,MAAK,SAACG,GAC1C,EAAKyB,SACD,CACIJ,QAAQ,EACRrB,KAAMA,OAIX,0CAKX,IAFA,IAAM2B,EAAU,IAAIC,MAEXC,EAAI,EAAGA,EAAIH,KAAKN,MAAMpB,KAAK8B,OAAQD,IAAK,CAC7C,IAAIE,EAAYL,KAAKN,MAAMpB,KAAK6B,GAE5Bf,EAA2B,CAC3Bd,KAAM+B,EACNC,GAAID,EAAUC,GACdC,YAAa,CAACF,EAAUG,SAASD,YAAY,GAAIF,EAAUG,SAASD,YAAY,IAChFE,MAAOJ,EAAUhB,WAAWqB,KAGhCT,EAAQU,KAAKvB,GAGjB,OACI,cAAC,IAAD,CACIV,QAASA,EACTuB,QAASA,EACTW,OAAO,OACPC,MAAM,aAzDtB,GAAkCC,IAAMC,WCnBzBC,MARf,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,EAAD,CAAcpB,YAAa,IAAI5B,OCJrCiD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0cea9ab8.chunk.js","sourcesContent":["\r\n\r\nexport class EarthQuakeDataService {\r\n\r\n    fetchQuakeData(): Promise<Array<EarthQuakeData>> {\r\n        return fetch(\"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_day.geojson\").then(res => res.json())\r\n            .then((data) => {\r\n                console.log(data);\r\n                return data.features;\r\n            });\r\n    }\r\n}\r\n\r\n// See https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php\r\n\r\nexport interface EarthQuakeData {\r\n    properties: Properties,\r\n    geometry: Geometry,\r\n    id: string\r\n}\r\n\r\ninterface Properties {\r\n    mag: number,\r\n    place: string,\r\n    time: number,\r\n    updated: number,\r\n    tz: number,\r\n    url: string,\r\n    detail: string,\r\n    felt: number,\r\n    cdi: number,\r\n    mmi: number,\r\n    alert: string,\r\n    status: string,\r\n    tsunami: number,\r\n    sig: number,\r\n    net: string,\r\n    code: string,\r\n    ids: string,\r\n    sources: string,\r\n    types: string,\r\n    nst: number,\r\n    dmin: number,\r\n    rms: number,\r\n    gap: number,\r\n    magType: string,\r\n    type: string,\r\n    title: string\r\n}\r\n\r\ninterface Geometry {\r\n    type: string,\r\n    coordinates: [number, number, number]\r\n}","import React from 'react';\nimport styles from './EarthViewBox.module.scss';\n\nimport ReactGlobe, {EasingFunction, MinMaxPair, Options} from 'react-globe';\nimport {Marker} from \"react-globe\"\nimport {EarthQuakeData, EarthQuakeDataService} from \"../../service/EarthQuakeDataService\";\n\nconst options = {\n    ambientLightColor: 'red',\n    cameraRotateSpeed: 0.5,\n    focusAnimationDuration: 2000,\n    focusEasingFunction: ['Linear', 'None'] as EasingFunction,\n    pointLightColor: 'gold',\n    pointLightIntensity: 1.5,\n    markerRadiusScaleRange: [0.1, 1] as [number, number],\n    globeGlowColor: 'blue',\n    markerTooltipRenderer: ((marker: EarthQuakeMarker) => `${marker.data.properties.title}`) as (marker: Marker) => string,\n    markerType: 'bar' as const\n};\n\ninterface EarthQuakeMarker extends Marker {\n    data: EarthQuakeData\n}\n\ninterface EarthViewBoxState {\n    data: Array<EarthQuakeData>\n    loaded: boolean\n}\n\ninterface EarthViewBoxProps {\n    dataService: EarthQuakeDataService\n}\n\nexport class EarthViewBox extends React.Component<EarthViewBoxProps, EarthViewBoxState> {\n\n    constructor(props: EarthViewBoxProps) {\n        super(props);\n        this.state = {\n            loaded: false,\n            data: [] as Array<EarthQuakeData>\n        };\n    }\n\n    componentDidMount() {\n        setInterval(() => {\n            this.props.dataService.fetchQuakeData().then((data) => {\n                console.log(\"updated\");\n                this.setState(\n                    {\n                        loaded: true,\n                        data: data\n                    }\n                )\n            });\n        }, 1000*60)\n    }\n\n    render() {\n        if (!this.state.loaded) {\n            this.props.dataService.fetchQuakeData().then((data) => {\n                this.setState(\n                    {\n                        loaded: true,\n                        data: data\n                    }\n                )\n            })\n            return <div>loading</div>\n        }\n\n        const markers = new Array<EarthQuakeMarker>();\n\n        for (let i = 0; i < this.state.data.length; i++) {\n            let earthData = this.state.data[i];\n\n            let marker: EarthQuakeMarker = {\n                data: earthData,\n                id: earthData.id,\n                coordinates: [earthData.geometry.coordinates[0], earthData.geometry.coordinates[1]],\n                value: earthData.properties.mag\n            }\n\n            markers.push(marker);\n        }\n\n        return (\n            <ReactGlobe\n                options={options}\n                markers={markers}\n                height=\"50vh\"\n                width=\"50vw\"\n            />\n        )\n    }\n}\n","import React from 'react';\nimport './App.css';\n\nimport {EarthQuakeDataService} from \"./service/EarthQuakeDataService\";\nimport {EarthViewBox} from \"./components/EarthViewBox/EarthViewBox\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <EarthViewBox dataService={new EarthQuakeDataService()}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}